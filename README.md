# JASRAC情報検索・申請ツール

このアプリケーションはJASRAC情報を検索し、効率的に管理するためのツールです。

https://github.com/user-attachments/assets/26738d4d-5620-4ff8-bdfa-1ff6a5207ee0

## 機能

- **曲情報の入力**: 曲名、アーティスト名、作曲者、作詞者など楽曲の基本情報を登録できます
- **一括入力**: テキスト形式で複数の曲を一度に登録可能
- **JASRAC自動検索**: 登録した曲情報をもとにJASRACデータベースを自動検索
- **複数検索戦略**: 様々な検索条件の組み合わせで最適な検索結果を取得
- **検索結果の保存**: 検索結果をJSON、TSV形式で出力・保存
- **結果の詳細表示**: 作品コード、権利者情報、利用可能分野などを表示

## 使い方

1. 「曲情報入力」タブで検索したい曲の情報を入力します
   - 個別入力: 各フィールドに情報を入力して「曲を追加」をクリック
   - 一括入力: 「テキストから一括追加」からテキスト形式で複数曲を追加
      （形式: 曲名\t作詞者\t作曲者\tアーティスト）

2. 曲リストが作成されたら「JASRACで検索」ボタンをクリック

3. 「検索結果」タブで検索結果を確認
   - 作品コード、曲名、著作権情報、利用可能分野などの詳細情報を表示
   - 検索結果はJSONやTSV形式で自動保存されます

### JASRAC検索機能について

このアプリケーションは、Playwrightを使用して自動的にJASRACデータベースから情報を取得します：

- **スマート検索アルゴリズム**: 曲名、作曲者、作詞者、アーティスト名をもとに最適な検索結果を特定
- **高度なスコアリング**: 複数の検索結果から最も信頼性の高い情報を選択
- **権利情報の詳細抽出**: 利用分野ごとの権利管理状況を自動判定
- **出力形式**: JSON/TSV形式で検索結果を保存（`/output`ディレクトリ）

コマンドラインからの実行も可能です：
```bash
pnpm jasrac-collector --input 入力ファイル.json --output 出力ファイル
```

ダミーモードでのテスト実行：
```bash
pnpm jasrac-collector --dummy
```

### 出力データの形式

検索結果は以下の形式で出力されます：

1. **JSONファイル** (`output/jasrac-results.json`):
   - 曲ごとの詳細情報（作品コード、権利者情報、利用可能分野など）
   - APIやプログラムでの利用に最適

2. **TSVファイル** (`output/jasrac-results.tsv`):
   - 表形式での基本情報
   - Excelなどでの閲覧・編集に最適

3. **詳細TSVファイル** (`output/jasrac-results-detailed.tsv`):
   - 権利情報を含む詳細データ
   - より詳しい分析や報告書作成に利用

## メリット

- **時間の節約**: 複数の曲を一括で効率的に検索
- **正確な情報**: 複数の検索戦略で正確な楽曲情報を取得
- **データ互換性**: 標準的なデータ形式で出力するため他システムとの連携が容易
- **使いやすいUI**: 直感的なインターフェースで操作が簡単

## インストールと起動

```bash
# 依存関係のインストール
pnpm install

# Playwrightのセットアップ
# - @playwright/test をインストール
# - Chromium, Firefox, WebKitブラウザをインストール
# - 必要なシステム依存関係をインストール
pnpm setup

# 開発サーバーの起動
pnpm dev
```

